# Проект Readme

## Запуск проекта

### Подготовка к запуску

1. Переместитесь в директорию `readme` и установите нужные пакеты, выполнив `npm install`
2. Переместитесь в директорию `environments`
3. Создайте файлы: `.posts.env`, `.users.env`, `.notify.env`
4. Заполните файлы переменными окружения, как в `.env-example` файлах находящихся в это же директории. `JWT_ACCESS_SECRET` должен быть одинаковым во всех файлах, иначе пользователь не сможет авторизоваться.
5. Из корневой директории проекта перейдите в директории: `readme/apps/users`, `readme/apps/users`, `readme/apps/notify` - и в каждой из них создайте docker-контейнеры, выполнив `docker compose up -d`

### Users

Переместитесь из корневой директории проекта в директорию `readme` и выполните `npx nx run users:serve`

### Posts


1. Переместитесь из корневой директории проекта в директорию `readme/apps/posts/prisma` и создайте `.env` файл сo строкой подключения к базе данных. Пример находится в этой же директории в файле `.env-example`.
2. Вернитесь в корневую директорию и переместитесь в директорию `readme`, потом выполните миграцию `npx nx run posts:db-migrate`
3. Запустите сервис `npx nx run posts:serve`

### Notify

Переместитесь из корневой директории проекта в директорию `readme` и выполните `npx nx run notify:serve`.
Для того, чтобы отправить накопившиеся уведомления о новых публикациях, то нужно выполнит GET запрос на `http://localhost:3335/api/mail/send`

## API спецификация

OpenAPI спецификации сервисов находятся по адресу `http://localhost:port/spec`
